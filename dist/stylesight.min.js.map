{"version":3,"sources":["stylesight.concat.js"],"names":["degToRad","x","Math","PI","getVideoFeed","video","Promise","resolve","getVideoFeedAttempts","errMessage","test","navigator","userAgent","window","MSStream","location","protocol","startsWith","mozGetUserMedia","audio","facingMode","stream","srcObject","err","console","log","alert","mediaDevices","getUserMedia","then","catch","webkitGetUserMedia","msGetUserMedia","e","addEventListener","async","document","querySelector","controls","classList","toggle","activeStyle","styles","id","name","Net","forEach","style","styleDiv","createElement","className","label","innerHTML","width","img","src","appendChild","stylesContainer","hasTexture","styleBox","visible","makeBoxObject","model","loadStyle","renderer","THREE","WebGLRenderer","antialias","alpha","setSize","innerWidth","innerHeight","body","domElement","backgroundColor","vrDisplay","effect","VREffect","separation","getVRDisplays","displays","length","enterVRButton","getElementById","contains","remove","includes","requestPresent","source","StereoEffect","add","scene","Scene","boxMaterial","texture","box","styleMaterial","styleTexture","camera","PerspectiveCamera","inferenceCanvas","inferenceContext","getContext","autoplay","height","boxWidth","boxHeight","boxGeometry","BoxGeometry","Texture","minFilter","NearestFilter","ShaderMaterial","uniforms","type","value","vertexShader","vertexShaderSource","text","fragmentShader","getVideoShader","Mesh","position","z","atan","inferring","multScalar","tf","scalar","render","currentTime","needsUpdate","hasOwnProperty","drawImage","result","tidy","preprocessed","fromPixels","inferenceResult","predict","dispose","mul","total","shape","data","rgbaData","Uint8Array","i","image","styleGeometry","DataTexture","RGBAFormat","UnsignedByteType","flipY","transparent","radius","intensity","compileShader","nextFrame","setTimeout","requestAnimationFrame","onloadedmetadata","href","fullscreenEnabled","requestFullScreen","webkitFullscreenEnabled","webkitRequestFullScreen","mozFullScreenEnabled","mozRequestFullScreen","msFullScreenEnabled","msRequestFullScreen","aspect","updateProjectionMatrix","pause","ckptsDir","URL","substr","lastIndexOf","[object Object]","checkpointManifest","vs","getVariable","fetch","r","arrayBuffer","values","Float32Array","Tensor","make","json","manifest","variableNames","Object","keys","variablePromises","map","all","variables","val","vi","preprocessedInput","dtype","conv1","this","convLayer","conv2","conv3","resid1","residualBlock","resid2","resid3","resid4","resid5","convT1","convTransposeLayer","convT2","convT3","outTanh","tanh","scaled","shifted","clamped","clipByValue","input","strides","relu","varId","y","conv2d","varName","y2","instanceNorm","numFilters","newShape","conv2dTranspose","addStrict","inDepth","moments","mu","mean","sigmaSq","variance","shift","scale","normalized","div","sub","sqrt","as3D","toString"],"mappings":"AAAA,aAEA,MAAMA,SAAWC,GAAKA,EAAIC,KAAKC,GAAK,IAE9BC,aAAgBC,OACX,IAAIC,QAASC,UAChB,IAAIC,qBAAuB,EACvBC,WAAa,2CAEb,mBAAmBC,KAAKC,UAAUC,aAAeC,OAAOC,WACxDL,YAAc,oDAGbM,SAASC,SAASC,WAAW,WAC9BR,YAAc,0CAGlB,IACI,GAAI,oBAAqBE,UACrBA,UAAUO,iBACLC,OAAO,EAAOd,OAAQe,WAAY,gBACnCC,SACIhB,MAAMiB,UAAYD,OAClBd,WAEJgB,MACIC,QAAQC,IAAIF,KACZG,MAAMjB,kBAGX,CAGH,GAF4BE,UAAUgB,cAAgBhB,UAAUgB,aAAaC,aAGzEjB,UAAUgB,aACLC,cAAcT,OAAO,EAAOd,OAAQe,WAAY,iBAChDS,KAAKR,SACFhB,MAAMiB,UAAYD,OAClBd,YAEHuB,MAAMP,MACHC,QAAQC,IAAIF,OACZf,qBAGyB,EACrBJ,eAEAsB,MAAMjB,kBAGf,CACH,MAAMmB,aACFjB,UAAUiB,cACVjB,UAAUoB,oBACVpB,UAAUO,iBACVP,UAAUqB,eAEVJ,aACAA,cACKT,OAAO,EAAOd,OAAQe,WAAY,gBACnCC,SACIhB,MAAMiB,UAAYD,OAClBd,WAEJgB,MACIC,QAAQC,IAAIF,KACZG,MAAMjB,cAIdiB,MAAM,0BAKpB,MAAOO,GACLP,MAAMjB,eAKlBI,OAAOqB,iBAAiB,OAAQC,UAGFC,SAASC,cAAc,WAC/BH,iBAAiB,QAAS,IAAMI,SAASC,UAAUC,OAAO,SAE5E,IAAIC,YAAc,OAClB,MAAMC,SAEEC,GAAI,OACJC,KAAM,SAGND,GAAI,QACJC,KAAM,UAGND,GAAI,gBACJC,KAAM,kBAGND,GAAI,SACJC,KAAM,WAGND,GAAI,UACJC,KAAM,YAGND,GAAI,OACJC,KAAM,SAGND,GAAI,QACJC,KAAM,UAIdC,IAAIH,OAASA,OACbG,IAAIJ,YAAcC,OAAO,GAEzBA,OAAOI,QAAQC,QACX,MAAMJ,GAACA,GAAEC,KAAEA,MAAQG,MACbC,SAAWZ,SAASa,cAAc,OACxCD,SAASE,UAAY,QAErB,MAAMC,MAAQf,SAASa,cAAc,QAGrC,GAFAE,MAAMC,UAAYR,KAER,QAAND,GACAQ,MAAMJ,MAAMM,MAAQ,YACjB,CACH,MAAMC,IAAMlB,SAASa,cAAc,OACnCK,IAAIC,gBAAkBZ,SACtBK,SAASQ,YAAYF,KAGzBN,SAASQ,YAAYL,OACrBM,gBAAgBD,YAAYR,UAE5BA,SAASd,iBAAiB,QAASC,UAE3BM,aAAeE,KAInBF,YAAcE,GACdE,IAAIJ,YAAYiB,YAAa,EAEzBb,IAAIJ,YAAYkB,WAChBd,IAAIJ,YAAYkB,SAASC,SAAU,GAGvCf,IAAIJ,YAAcM,MAEV,QAAJJ,GACAkB,iBAKAA,cAAc,KACdd,MAAMe,MAAQf,MAAMe,aAAejB,IAAIkB,UAAUpB,KAGrDnB,QAAQC,IAAI,cAAegB,kBAOnC,MAAMuB,SAAW,IAAIC,MAAMC,eAAgBC,WAAW,EAAMC,OAAO,IACnEJ,SAASK,QAAQxD,OAAOyD,WAAYzD,OAAO0D,aAC3CnC,SAASoC,KAAKhB,YAAYQ,SAASS,YACnCT,SAASS,WAAW1B,MAAM2B,gBAAkB,QAE5C,IAIIC,UAJAC,OAAS,IAAIX,MAAMY,SAASb,UAChCY,OAAOE,WAAa,EACpBF,OAAOP,QAAQxD,OAAOyD,WAAYzD,OAAO0D,aAIrC5D,UAAUoE,eACVpE,UAAUoE,gBAAgBlD,KAAKmD,UAAYA,SAASC,SAAWN,UAAYK,SAAS,KAIxFE,cAAchD,iBAAiB,QAAS,KACpC,MAAMI,SAAWF,SAAS+C,eAAe,YAErCD,cAAc3C,UAAU6C,SAAS,WAEjCR,OAAS,IAAIX,MAAMY,SAASb,WACrBc,WAAa,EACpBF,OAAOP,QAAQxD,OAAOyD,WAAYzD,OAAO0D,aAEzCW,cAAc3C,UAAU8C,OAAO,SAC/B/C,SAASC,UAAU8C,OAAO,YAEtB1E,UAAUC,UAAU0E,SAAS,aAC7BX,UAAUY,iBAAkBC,OAAQxB,SAASS,gBAE7CG,OAAS,IAAIX,MAAMwB,aAAazB,WACzBc,WAAa,EACpBF,OAAOP,QAAQxD,OAAOyD,WAAYzD,OAAO0D,cAI7CW,cAAc3C,UAAUmD,IAAI,SAC5BpD,SAASC,UAAUmD,IAAI,aAK/B,MACMC,MAAQ,IAAI1B,MAAM2B,MAExB,IAIIC,YACAC,QACAC,IAEAC,cACAC,aACAtC,SAVAuC,OAAS,IAAIjC,MAAMkC,kBAHX,GAGkCtF,OAAOyD,WAAazD,OAAO0D,YAAa,EAAG,KACzFoB,MAAMD,IAAIQ,QAWV,MAAME,gBAAkBhE,SAASa,cAAc,UAC/C,IAAIoD,iBAAmBD,gBAAgBE,WAAW,MAElDzF,OAAOR,MAAQ+B,SAASa,cAAc,SACtC5C,MAAMkG,UAAW,EACjBlG,MAAMgD,MAAQxC,OAAOyD,WACrBjE,MAAMmG,OAAS3F,OAAO0D,kBAChBnE,aAAaC,OAEnB,MAAMwD,cAAgB1B,MAAOqE,SACzB3F,OAAOR,MAAQ+B,SAASa,cAAc,SACtC5C,MAAMkG,UAAW,EACjBlG,MAAMgD,MAAQxC,OAAOyD,WACrBjE,MAAMmG,OAAS3F,OAAO0D,YAEtB6B,gBAAgBI,OAASA,OACzBJ,gBAAgB/C,MAAQhD,MAAMgD,MAAQhD,MAAMmG,OAASA,OAErDH,iBAAmBD,gBAAgBE,WAAW,YACxClG,aAAaC,OAEnB,MAAMoG,SAAWpG,MAAMgD,MACjBqD,UAAYrG,MAAMmG,OAElBG,YAAc,IAAI1C,MAAM2C,YAAYH,SAAUC,UAAW,IAC/DZ,QAAU,IAAI7B,MAAM4C,QAAQxG,QACpByG,UAAY7C,MAAM8C,cAE1BlB,YAAc,IAAI5B,MAAM+C,gBACpBC,UACInB,SACIoB,KAAM,IACNC,MAAOrB,UAGfsB,aAAcC,mBAAmBC,KACjCC,eAAgB1E,IAAI2E,mBAGxBzB,IAAM,IAAI9B,MAAMwD,KAAKd,YAAad,aAClCF,MAAMD,IAAIK,KAEVG,OAAOwB,SAASC,EAAI,GAAMlB,SAAWvG,KAAK0H,KAAK5H,SAAS,KAAiB,KAI7Ea,OAAOgH,WAAY,EACnB,MAAMC,WAAaC,GAAGC,OAAO,KAEvBC,OAAS9F,UAUX,GARI9B,MAAM6H,cACNpC,QAAQqC,aAAc,EAElBlC,eACAA,aAAakC,aAAc,KAI9BN,WAAgC,QAAnBhF,IAAIJ,aACK,QAAnBI,IAAIJ,aAAyBI,IAAIJ,YAAY2F,eAAe,SAAU,CACtE5G,QAAQC,IAAI,aACZoG,WAAY,EACZxB,iBAAiBgC,UAAUhI,MAAO,EAAG,EAAG+F,gBAAgB/C,MAAO+C,gBAAgBI,QAE/E,MAAM8B,OAASP,GAAGQ,KAAK,KACnB,MAAMC,aAAeT,GAAGU,WAAWrC,iBAC7BsC,gBAAkB7F,IAAI8F,QAAQH,cAEpC,OADAA,aAAaI,UACNF,kBAGXJ,OAAOO,IAAIf,YAEX,MAAMgB,MAAQR,OAAOS,MAAM,GAAKT,OAAOS,MAAM,GACvCC,WAAaV,OAAOU,OACpBC,SAAW,IAAIC,WAAmB,EAARJ,OAEhC,IAAK,IAAIK,EAAE,EAAGA,EAAEL,MAAOK,IACnBF,SAAW,EAAFE,EAAM,GAAKH,KAAO,EAAFG,EAAM,GAC/BF,SAAW,EAAFE,EAAM,GAAKH,KAAO,EAAFG,EAAM,GAC/BF,SAAW,EAAFE,EAAM,GAAKH,KAAO,EAAFG,EAAM,GAC/BF,SAAW,EAAFE,EAAM,GAAK,IAIxB,GAAKtG,IAAIJ,YAAY2F,eAAe,eAAkBvF,IAAIJ,YAAYiB,WA4ClEuC,aAAamD,MAAMJ,KAAOC,aA5CoD,CAC9E,MAAMI,cAAgB,IAAIpF,MAAM2C,YAAYvG,MAAMgD,MAAOhD,MAAMmG,OAAQ,IACvEP,aAAe,IAAIhC,MAAMqF,YAAYL,SAAUX,OAAOS,MAAM,GAAIT,OAAOS,MAAM,GAAI9E,MAAMsF,WAAYtF,MAAMuF,mBAC5FC,OAAQ,EAErBxD,aAAaa,UAAY7C,MAAM8C,cAC/Bf,cAAgB,IAAI/B,MAAM+C,gBACtB0C,aAAa,EACbzC,UACInB,SACIoB,KAAM,IACNC,MAAOlB,cAEX5C,OACI6D,KAAM,IACNC,MAAO9G,MAAMgD,OAEjBmD,QACIU,KAAM,IACNC,MAAO9G,MAAMmG,QAEjBmD,QACIzC,KAAM,IACNC,MAAO,IAEXyC,WACI1C,KAAM,IACNC,MAAO,IAGfC,aAAcC,mBAAmBC,KACjCC,eAAgB1E,IAAIgH,kBAIxBlG,SAAW,IAAIM,MAAMwD,KAAK4B,cAAerD,eACzCnF,OAAO8C,SAAWA,SAClB9C,OAAOoF,aAAeA,aAEtBpD,IAAIJ,YAAYiB,YAAa,EAC7Bb,IAAIJ,YAAYkB,SAAWA,SAE3BgC,MAAMD,IAAI/B,UAMdsC,aAAakC,aAAc,EAC3BG,OAAOM,gBAEDb,GAAG+B,YACTC,WAAW,IAAMlC,WAAY,EAAO,IAIrB,QAAnBhF,IAAIJ,aAAyBkB,WAC7BA,SAASC,SAAU,GAGvBgB,OAAOqD,OAAOtC,MAAOO,QACrB8D,sBAAsB/B,SAG1BpE,gBACAoE,SAEApH,OAAOR,MAAM4J,iBAAmB,KAAMpC,WAAY,GAG7ChH,OAAOE,SAASmJ,KAAK5E,SAAS,cAC/BtB,SAASS,WAAWvC,iBAAiB,QAAS,KAC1CE,SAAS+H,mBAAqBnG,SAASS,WAAW2F,qBAClDhI,SAASiI,yBAA2BrG,SAASS,WAAW6F,2BACxDlI,SAASmI,sBAAwBvG,SAASS,WAAW+F,wBACrDpI,SAASqI,qBAAuBzG,SAASS,WAAWiG,wBAK5D7J,OAAOqB,iBAAiB,SAAU,KAC9B0C,OAAOP,QAAQxD,OAAOyD,WAAYzD,OAAO0D,aACzC2B,OAAOyE,OAAS9J,OAAOyD,WAAazD,OAAO0D,YAC3C2B,OAAO0E,yBACPjF,MAAMN,OAAOU,KACb1F,MAAMwK,QACNhH,oBAOR,MAAMiH,SAAW1I,SAAS2I,IAAIC,OAAO,EAAE5I,SAAS2I,IAAIE,YAAY,MAAQ,gBAElEpI,IAEFqI,iBAAkBvI,IAEd,IAAIwI,mBACAC,MAEJ,MAAMC,YAAczI,MACT,IAAItC,QAAQC,UACf+K,MAAMR,SAAWnI,GAAK,IAAMC,MAAMf,KAAK0J,GAAKA,EAAEC,eAAe3J,KAAK4J,SAC9DA,OAAS,IAAIC,aAAaD,QAC1BlL,QAAQwH,GAAG4D,OAAOC,KAAKT,mBAAmBvI,MAAMmG,OAAQ0C,OAAAA,cAKpE,OAAO,IAAInL,QAAQC,UACf+K,MAAMR,SAASnI,GAAG,kBAAkBd,KAAK0J,GAAKA,EAAEM,QAAQhK,KAAKiK,WACzDX,mBAAqBW,SAErB,MAAMC,cAAgBC,OAAOC,KAAKd,oBAE5Be,iBAAmBH,cAAcI,IAAId,aAC3C/K,QAAQ8L,IAAIF,kBAAkBrK,KAAKwK,YAC/BA,UAAUvJ,QAAQ,CAACwJ,IAAKC,MACpBnB,GAAGW,cAAcQ,KAAOD,MAE5B/L,QAAQ6K,UAMxBF,eAAgBsB,mBACZA,kBAAkBC,MAAQ,UAC1B,MAAMC,MAAQC,KAAKC,UAAUJ,kBAAmB,GAAG,EAAM,GACnDK,MAAQF,KAAKC,UAAUF,MAAO,GAAG,EAAM,GACvCI,MAAQH,KAAKC,UAAUC,MAAO,GAAG,EAAM,GACvCE,OAASJ,KAAKK,cAAcF,MAAO,GACnCG,OAASN,KAAKK,cAAcD,OAAQ,IACpCG,OAASP,KAAKK,cAAcC,OAAQ,IACpCE,OAASR,KAAKK,cAAcE,OAAQ,IACpCE,OAAST,KAAKK,cAAcG,OAAQ,IACpCE,OAASV,KAAKW,mBAAmBF,OAAQ,GAAI,EAAG,IAChDG,OAASZ,KAAKW,mBAAmBD,OAAQ,GAAI,EAAG,IAChDG,OAASb,KAAKC,UAAUW,OAAQ,GAAG,EAAO,IAC1CE,QAAU1F,GAAG2F,KAAKF,QAClBG,OAAS5F,GAAGc,IAAId,GAAGC,OAAO,KAAMyF,SAChCG,QAAU7F,GAAGrC,IAAIqC,GAAGC,OAAO,OAAQ2F,QACnCE,QAAU9F,GAAG+F,YAAYF,QAAS,EAAG,KAC3C,OAAOC,QAKX3C,iBAAkB6C,MAAOC,QAASC,KAAMC,OACpC,MAAMC,EAAIpG,GAAGqG,OAAOL,MAAOpB,KAAKlK,YAAYqB,MAAM6I,KAAK0B,QAAQH,QAAS,EAAGF,SACrEM,GAAK3B,KAAK4B,aAAaJ,EAAGD,MAAQ,GAExC,OAAID,KACOlG,GAAGkG,KAAKK,IAGZA,GAGXpD,0BAA2B6C,MAAOS,WAAYR,QAASE,OACnD,MAAO1H,OAAQnD,OAAW0K,MAAMhF,MAG1B0F,UAFUjI,OAASwH,QACT3K,MAAQ2K,QACYQ,YAE9BL,EAAIpG,GAAG2G,gBAAgBX,MAAOpB,KAAKlK,YAAYqB,MAAM6I,KAAK0B,QAAQH,QAASO,SAAUT,QAAS,QAC9FM,GAAK3B,KAAK4B,aAAaJ,EAAGD,MAAQ,GAGxC,OAFWnG,GAAGkG,KAAKK,IAKvBpD,qBAAsB6C,MAAOG,OACzB,MAAMxB,MAAQC,KAAKC,UAAUmB,MAAO,GAAG,EAAMG,OACvCrB,MAAQF,KAAKC,UAAUF,MAAO,GAAG,EAAOwB,MAAQ,GACtD,OAAOnG,GAAG4G,UAAU9B,MAAOkB,OAG/B7C,oBAAqB6C,MAAOG,OACxB,MAAO1H,OAAQnD,MAAOuL,SAAWb,MAAMhF,MACjC8F,QAAU9G,GAAG8G,QAAQd,OAAQ,EAAG,IAChCe,GAAKD,QAAQE,KACbC,QAAUH,QAAQI,SAClBC,MAAQvC,KAAKlK,YAAYqB,MAAM6I,KAAK0B,QAAQH,QAC5CiB,MAAQxC,KAAKlK,YAAYqB,MAAM6I,KAAK0B,QAAQH,MAAQ,IAEpDkB,WAAarH,GAAGsH,IAAItH,GAAGuH,IAAIvB,MAAOe,IACxC/G,GAAGwH,KAAKxH,GAAGrC,IAAIsJ,QAASjH,GAAGC,OAFX,SAIhB,OADgBD,GAAGrC,IAAIqC,GAAGc,IAAIsG,MAAOC,YAAaF,OACnCM,KAAKhJ,OAAQnD,MAAOuL,SAGvC1D,eAAgBgD,OACZ,OAAc,IAAVA,MACO,WAEA,YAAcA,MAAMuB,WAInCvE,wBACI,MAAO,yLAUXA,uBACI,6rBAsBoByB,KAAK/J,KAAK","file":"stylesight.min.js"}